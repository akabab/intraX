#activity
  #list-activity
    button.dark-btn.smart-btn(ng-init="hideList=true" ng-click="hideList=!hideList") List
    select.dark-btn.smart-btn(ng-options="module.name for module in modules" ng-model="moduleSelected" ng-change="getActivities(moduleSelected.name); curActivity.moduleId=moduleSelected._id")
      option(value="") -- pick a module --
    .panel(ng-class="{hidden:hideList}")
      div(ng-if="moduleSelected.name" ng-repeat="activity in activities")
        button.dark-btn(ng-click="delActivity(moduleSelected.name, activity)")
          i.fa.fa-minus
        button.dark-btn(ng-click="editActivity(activity)")
          i.fa.fa-pencil
        span.activity {{activity.name}}  -- {{activity._id}}
  #add-activity(ng-hide="!moduleSelected.name")
    button.dark-btn.smart-btn(ng-click="hideNew=!hideNew" ng-bind="isEditing ? 'Edit' : 'New'")
    .panel(ng-class="{hidden:hideNew}")
      form(name="Form"  novalidate ng-submit="isEditing ? updateActivity(moduleSelected.name, curActivity) : addActivity(moduleSelected.name, curActivity)")
        label Name
          input(type='text' ng-model="curActivity.name" required)
        label Description
          textarea(ng-model="curActivity.description")
        label.inline Slots
          input(type="number" ng-model="curActivity.slots" placeholder="unlimited if empty")
        label.inline Credits
          input(type="number" ng-model="curActivity.credits")
        br
        label.inline Start
          input(type="date" ng-model="curActivity.start")
        label.inline End 
          input(type="date" ng-model="curActivity.end")
        br
        label.inline Group Size
          input(type="number" ng-model="curActivity.groupSize" placeholder="individual if empty")
        label.inline Peers
          input(type="number" ng-model="curActivity.peerNumber")
        br
        label.inline Auto Group
          input(type="checkbox" ng-model="curActivity.autoGroup")
        br
        label.inline Subject
          input(type="file" ng-model="curActivity.subject")
        br
        button.dark-btn(type="submit")
          i.fa(ng-class="isEditing ? 'fa-pencil' : 'fa-plus'")
          |  to {{moduleSelected.name}}
        button.dark-btn(type="button" ng-show="isEditing" ng-click="curActivity={};isEditing=false")
          i.fa.fa-ban
